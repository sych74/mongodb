type: update
id: mongodb-replica-set-auto-cluster
name: MongoDB Termination
description: MongoDB Termination

permanent: true

targetNodes: nosqldb

onBeforeRedeployContainer[${settings.nodeGroup:nosqldb}]:
  - stopEvent:
      type: warning
      message: Container redeploy is not supported for MongoDB.

onBeforeAddNode[${settings.nodeGroup:nosqldb}]: 
  - stopEvent:
      type: warning
      message: Scaling out is not supported for MongoDB.

onBeforeResetServicePassword[${settings.nodeGroup:nosqldb}]:
  - stopEvent:
      type: warning
      message: Password reseting is not supported for MongoDB.

onBeforeResetNodePassword[${settings.nodeGroup:nosqldb}]:
  - stopEvent:
      type: warning
      message: Password reseting is not supported for MongoDB.

onBeforeMigrate:
  - stopEvent:
      type: warning
      message: Migration is not supported for MongoDB.
  
onBeforeClone:
  - stopEvent:
      type: warning
      message: Cloning is not supported for MongoDB.
      
onInstall:
  - env.nodegroup.ApplyData[${settings.nodeGroup:nosqldb}]:
      data:
        scalingMode: STATELESS
        isRedeploySupport: false
        isResetServicePassword: false
        validation:
          scalingMode: STATELESS
        
